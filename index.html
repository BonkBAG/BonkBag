<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BONK BAG</title>
<style>
  body {
    background-image: url('cosmic-bonkpet-bg.jpg'); /* –ù–∞–∑–≤–∞ —Ç–≤–æ–≥–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ–≥–æ —Ñ–æ–Ω—É */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    margin: 0;
    padding: 0;
    font-family: 'Arial', sans-serif;
    color: white;
  }

  .bonus-box, .pet-card, #market, #fightSection, #leaderboardSection {
    background-color: rgba(0, 0, 0, 0.6);
    padding: 15px;
    border-radius: 10px;
    margin: 20px;
  }

  button.btn {
    background-color: #00cc66;
    color: white;
    border: none;
    padding: 10px 18px;
    border-radius: 5px;
    cursor: pointer;
  }

  button.btn:hover {
    background-color: #00aa55;
  }
</style>
</head>
<body>
  <h1>üêæ BONK PET</h1>

  <div class="pet-box" id="petBox">
    <h2>–¢–≤—ñ–π –ø–µ—Å</h2>
    <div id="petInfo"></div>
    <div id="dailyBonus"></div>
  </div>

  <div class="bonus-box" id="boxSection">
    <h2>üì¶ –í—ñ–¥–∫—Ä–∏—Ç–∏ –±–æ–∫—Å</h2>
    <p>–ö–æ—à—Ç—É—î 100 000 BAG</p>
    <button class="btn" onclick="openBox()">üéÅ –í—ñ–¥–∫—Ä–∏—Ç–∏</button>
    <div id="boxResult" style="margin-top: 15px;"></div>
  </div>

  <div class="bonus-box" id="marketSection">
    <h2>üè™ –†–∏–Ω–æ–∫ –ø—Å—ñ–≤</h2>
    <div id="marketList"></div>
  </div>

  <div class="bonus-box" id="fightSection">
    <h2>ü•ä –ó–º–∞–≥–∞–π—Å—è –∑ —ñ–Ω—à–∏–º –ø—Å–æ–º</h2>
    <button class="btn" onclick="fight()">‚öîÔ∏è –ó–º–∞–≥–∞—Ç–∏—Å—è</button>
    <div id="fightResult" style="margin-top: 10px;"></div>
  </div>

  <div class="bonus-box" id="leaderboardSection">
    <h2>üèÜ –¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤</h2>
    <div id="leaderboardList"></div>
  </div>

<script>
const dogTypes = [
  { name: "–ü—Ä–æ—Å—Ç–∏–π –ü–µ—Å", type: "–∑–≤–∏—á–∞–π–Ω–∏–π", image: "https://i.ibb.co/0qZ5F3N/basicdog.png", price: 100000 },
  { name: "–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –ü–µ—Å", type: "—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π", image: "https://i.ibb.co/XpzLjrh/uniquedog.png", price: 500000 },
  { name: "–†—ñ–¥–∫—ñ—Å–Ω–∏–π –ü–µ—Å", type: "—Ä—ñ–¥–∫—ñ—Å–Ω–∏–π", image: "https://i.ibb.co/0CMn57x/raredog.png", price: 1000000 },
  { name: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∏–π –ü–µ—Å", type: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–∏–π", image: "https://i.ibb.co/kBcFD40/legenddog.png", price: 10000000 }
];

function generateWallet() {
  return "0x" + Math.random().toString(36).substring(2, 15);
}

function loadOrCreateDog() {
  let dog = JSON.parse(localStorage.getItem("myDog"));
  if (!dog) {
    dog = { ...dogTypes[0], xp: 0, level: 1, bag: 100000, wallet: generateWallet(), lastBonus: 0, loginDays: 0 };
    localStorage.setItem("myDog", JSON.stringify(dog));
  }
  renderDog(dog);
}

function renderDog(dog) {
  document.getElementById("petInfo").innerHTML = `
    <img src="${dog.image}" width="150"/><br>
    <b>${dog.name}</b> (${dog.type})<br>
    üß™ XP: ${dog.xp}<br>
    üìà Level: ${dog.level}<br>
    üí∞ BAG: ${dog.bag.toLocaleString()}<br>
    üëõ Wallet: ${dog.wallet.slice(0,6)}...${dog.wallet.slice(-4)}
  `;
}

function grantDailyBonus() {
  let dog = JSON.parse(localStorage.getItem("myDog"));
  const now = Date.now();
  const day = Math.floor(now / (1000 * 60 * 60 * 24));

  if (day === dog.lastBonus) {
    document.getElementById("dailyBonus").innerHTML = "<p>üéÅ –ë–æ–Ω—É—Å –≤–∂–µ –æ—Ç—Ä–∏–º–∞–Ω–æ —Å—å–æ–≥–æ–¥–Ω—ñ!</p>";
    return;
  }

  dog.loginDays += 1;
  dog.lastBonus = day;

  let bonusBag = 5000;
  if (dog.loginDays >= 10) bonusBag += 10000;
  if (dog.loginDays >= 20) bonusBag += 20000;
  if (dog.loginDays >= 30) bonusBag += 30000;
  if (dog.loginDays >= 40) bonusBag += 40000;
  if (dog.loginDays >= 50) bonusBag += 50000;
  if (dog.loginDays >= 60) bonusBag += 60000;
  if (dog.loginDays >= 70) bonusBag += 70000;
  if (dog.loginDays >= 80) bonusBag += 80000;
  if (dog.loginDays >= 90) bonusBag += 90000;
  if (dog.loginDays >= 100) bonusBag += 100000;

  dog.bag += bonusBag;
  dog.xp += 20 + Math.floor(Math.random() * 30);
  dog.level = Math.floor(dog.xp / 100) + 1;

  localStorage.setItem("myDog", JSON.stringify(dog));
  renderDog(dog);

  document.getElementById("dailyBonus").innerHTML = `
    <p>üéâ –¢–∏ –æ—Ç—Ä–∏–º–∞–≤ <b>${bonusBag.toLocaleString()} BAG</b> –∑–∞ –≤—Ö—ñ–¥!</p>
    <p>–î–µ–Ω—å –≤—Ö–æ–¥—É: ${dog.loginDays}</p>
  `;
}

function openBox() {
  let dog = JSON.parse(localStorage.getItem("myDog"));
  const boxCost = 100000;
  if (dog.bag < boxCost) {
    document.getElementById("boxResult").innerText = "üö´ –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ BAG.";
    return;
  }
  dog.bag -= boxCost;

  const roll = Math.random();
  let newDog;
  if (roll < 0.6) newDog = dogTypes[0];
  else if (roll < 0.85) newDog = dogTypes[1];
  else if (roll < 0.98) newDog = dogTypes[2];
  else newDog = dogTypes[3];

  const earned = { ...newDog, xp: 0, level: 1, bag: 0, wallet: generateWallet() };
  const market = JSON.parse(localStorage.getItem("market") || "[]");
  market.push(earned);
  localStorage.setItem("market", JSON.stringify(market));

  localStorage.setItem("myDog", JSON.stringify(dog));
  renderDog(dog);

  document.getElementById("boxResult").innerHTML = `
    <p>üéâ –¢–æ–±—ñ –≤–∏–ø–∞–≤:</p>
    <img src="${earned.image}" width="120"/><br>
    <b>${earned.name}</b> (${earned.type})<br>
    –î–æ–¥–∞–Ω–æ –Ω–∞ —Ä–∏–Ω–æ–∫!
  `;
  renderMarket();
}

function renderMarket() {
  const market = JSON.parse(localStorage.getItem("market") || "[]");
  const container = document.getElementById("marketList");
  container.innerHTML = market.map((p, i) => `
    <div style="margin:10px;padding:10px;border:1px solid #333;border-radius:8px;">
      <img src="${p.image}" width="100"/><br>
      <b>${p.name}</b> (${p.type})<br>
      Level: ${p.level} | XP: ${p.xp}<br>
      üí∞ ${p.price.toLocaleString()} BAG<br>
      <button class="btn" onclick="buyDog(${i})">–ö—É–ø–∏—Ç–∏</button>
    </div>
  `).join('');
}

function buyDog(index) {
  let dog = JSON.parse(localStorage.getItem("myDog"));
  const market = JSON.parse(localStorage.getItem("market") || "[]");
  const pet = market[index];
  if (!pet) return;
  if (dog.bag < pet.price) {
    alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ BAG!");
    return;
  }
  dog.bag -= pet.price;
  alert(`‚úÖ –ö—É–ø–ª–µ–Ω–æ ${pet.name} (${pet.type})! XP: ${pet.xp}`);

  market.splice(index, 1);
  localStorage.setItem("market", JSON.stringify(market));
  localStorage.setItem("myDog", JSON.stringify(dog));
  renderDog(dog);
  renderMarket();
}

function fight() {
  const myDog = JSON.parse(localStorage.getItem("myDog"));
  const market = JSON.parse(localStorage.getItem("market") || "[]");
  if (market.length === 0) {
    document.getElementById("fightResult").innerText = "–ù–µ–º–∞—î —Å—É–ø–µ—Ä–Ω–∏–∫—ñ–≤!";
    return;
  }
  const opponent = market[Math.floor(Math.random() * market.length)];
  const myPower = myDog.xp + Math.random() * 50;
  const enemyPower = opponent.xp + Math.random() * 50;

  let result;
  if (myPower > enemyPower) {
    myDog.xp += 30;
    myDog.bag += 10000;
    myDog.level = Math.floor(myDog.xp / 100) + 1;
    result = `üèÜ –¢–∏ –ø–µ—Ä–µ–º—ñ–≥ ${opponent.name}! +30 XP, +10 000 BAG`;
  } else {
    result = `üòì ${opponent.name} –ø–µ—Ä–µ–º—ñ–≥ —Ç–µ–±–µ. –°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑!`;
  }
  localStorage.setItem("myDog", JSON.stringify(myDog));
  renderDog(myDog);
  document.getElementById("fightResult").innerText = result;
  updateLeaderboard();
}

function updateLeaderboard() {
  const dog = JSON.parse(localStorage.getItem("myDog"));
  let leaderboard = JSON.parse(localStorage.getItem("leaderboard") || "[]");

  const existing = leaderboard.find(p => p.wallet === dog.wallet);
  if (existing) {
    existing.name = dog.name;
    existing.xp = dog.xp;
    existing.level = dog.level;
  } else {
    leaderboard.push({
      wallet: dog.wallet,
      name: dog.name,
      xp: dog.xp,
      level: dog.level
    });
  }
  leaderboard.sort((a, b) => b.xp - a.xp);
  localStorage.setItem("leaderboard", JSON.stringify(leaderboard));
  renderLeaderboard();
}

function renderLeaderboard() {
  const leaderboard = JSON.parse(localStorage.getItem("leaderboard") || "[]");
  const container = document.getElementById("leaderboardList");
  if (!container) return;

  if (leaderboard.length === 0) {
    container.innerHTML = "<p>–ù–∞—Ä–∞–∑—ñ —Ç–∞–±–ª–∏—Ü—è –ø–æ—Ä–æ–∂–Ω—è.</p>";
    return;
  }

  let html = "<ol>";
  leaderboard.forEach(player => {
    html += `<li><b>${player.name}</b> ‚Äì ${player.xp} XP (Lvl ${player.level})</li>`;
  });
  html += "</ol>";
  container.innerHTML = html;
}

window.onload = () => {
  loadOrCreateDog();
  grantDailyBonus();
  renderMarket();
  renderLeaderboard();
};
</script>
</body>
</html>
