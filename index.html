<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>BONK PET</title>
  <style>
    body {
      background-image: url('https://raw.githubusercontent.com/BonkBAG/BonkBag/main/cosmic-bonkpet-bg.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    .container {
      margin-left: 160px;
      padding: 20px;
    }

    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      width: 150px;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      padding: 20px;
      box-sizing: border-box;
    }

    .section {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
    }

    .btn {
      background: #00cc66;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 5px 0;
      cursor: pointer;
      border-radius: 5px;
      font-size: 16px;
    }

    .btn:hover {
      background: #00994d;
    }

    .dog {
      background: #222;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }

    .rarity-buttons .btn {
      margin: 5px 5px 5px 0;
    }

    h2 {
      margin-top: 0;
    }

    #createDogForm {
      background: rgba(0, 0, 0, 0.7);
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    input {
      padding: 8px;
      font-size: 16px;
      border-radius: 5px;
      border: none;
      margin-right: 10px;
    }
  </style>
</head>
<body>

  <div class="sidebar">
    <p><strong>üí∞ –ë–∞–ª–∞–Ω—Å</strong></p>
    <p>BAG: <span id="bag">0</span></p>
    <p>POL: 2.00</p>
    <p>USDT: 50.00</p>
    <p style="color: #ff66ff;">0x9570b9d8</p>
  </div>

  <div class="container">
    <div id="createDogForm" style="display: none;">
      <h3>üéâ –í—ñ—Ç–∞—î–º–æ! –ù–∞–∑–≤—ñ—Ç—å —Å–≤–æ–≥–æ –ø–µ—Ä—à–æ–≥–æ –ø—Å–∞:</h3>
      <input type="text" id="dogNameInput" placeholder="–Ü–º‚Äô—è –ø—Å–∞">
      <button class="btn" onclick="createFirstDog()">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
    </div>

    <div class="section">
      <h2>üéÅ –ë–æ–Ω—É—Å + üì¶ –†–∏–Ω–æ–∫</h2>
      <button class="btn" onclick="getBonus()">–û—Ç—Ä–∏–º–∞—Ç–∏ –±–æ–Ω—É—Å</button>
      <p id="bonusMsg"></p>
      <button class="btn" onclick="openBox()">–í—ñ–¥–∫—Ä–∏—Ç–∏ –±–æ–∫—Å</button>
      <p id="boxMsg"></p>

      <h3>–ü—Ä–∏–¥–±–∞—Ç–∏ –ø—Å–∞</h3>
      <div class="rarity-buttons">
        <button class="btn" onclick="buyDog('common', 100000)">–ó–≤–∏—á–∞–π–Ω–∏–π ‚Äî 100 000 BAG</button>
        <button class="btn" onclick="buyDog('unique', 500000)">–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π ‚Äî 500 000 BAG</button>
        <button class="btn" onclick="buyDog('rare', 1000000)">–†—ñ–¥–∫—ñ—Å–Ω–∏–π ‚Äî 1 000 000 BAG</button>
        <button class="btn" onclick="buyDog('legendary', 10000000)">–õ–µ–≥–µ–Ω–¥–∞ ‚Äî 10 000 000 BAG</button>
      </div>
      <p id="marketMsg"></p>
    </div>

    <div class="section">
      <h2>üê∂ –ú—ñ–π –ø–µ—Å</h2>
      <div id="dogInfo" class="dog">
        <p>–£ –≤–∞—Å –Ω–µ–º–∞—î –ø—Å–∞.</p>
      </div>
      <p id="upgradeMsg">–°—å–æ–≥–æ–¥–Ω—ñ —â–µ –Ω–µ –ø—Ä–æ–∫–∞—á–∞–Ω–æ</p>
      <button class="btn" onclick="upgradeDog()">–ü—Ä–æ–∫–∞—á–∞—Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ</button>
    </div>

    <div class="section">
      <h2>üèÜ –ó–º–∞–≥–∞–Ω–Ω—è</h2>
      <p>üü• –ó–º–∞–≥–∞–Ω–Ω—è –ø–æ–∫–∏ –Ω–µ –∞–∫—Ç–∏–≤–Ω—ñ. –û—á—ñ–∫—É–π—Ç–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è!</p>
    </div>
  </div>
  <div class="section">
  <h2>üõí –ú–∞—Ä–∫–µ—Ç</h2>
  <button class="btn" onclick="sellDog()">–ü—Ä–æ–¥–∞—Ç–∏ –ø—Å–∞ (100 000 BAG)</button>
  <p id="marketSellMsg"></p>

  <h3>üê∂ –°–æ–±–∞–∫–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∂:</h3>
  <div id="marketList"></div>
</div>

<script>let market = [];

function saveMarket() {
  localStorage.setItem("bonkPetMarket", JSON.stringify(market));
}

function loadMarket() {
  const data = localStorage.getItem("bonkPetMarket");
  if (data) market = JSON.parse(data);
}

function userAddress() {
  // –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞
  let id = localStorage.getItem("bonkUserId");
  if (!id) {
    id = "user_" + Math.random().toString(36).substr(2, 9);
    localStorage.setItem("bonkUserId", id);
  }
  return id;
}

function sellDog() {
  if (!user.dog) {
    document.getElementById("marketSellMsg").innerText = "–£ –≤–∞—Å –Ω–µ–º–∞—î –ø—Å–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂—É.";
    return;
  }

  const dogForSale = {
    ...user.dog,
    seller: userAddress(),
    price: 100000
  };

  market.push(dogForSale);
  user.dog = null;
  saveMarket();
  saveUser();
  updateDogInfo();
  updateMarketList();
  document.getElementById("marketSellMsg").innerText = "‚úÖ –ü—Å–∞ –≤–∏—Å—Ç–∞–≤–ª–µ–Ω–æ –Ω–∞ –ø—Ä–æ–¥–∞–∂!";
}

function updateMarketList() {
  const container = document.getElementById("marketList");
  container.innerHTML = "";

  if (market.length === 0) {
    container.innerHTML = "<p>–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î –ø—Å—ñ–≤ –Ω–∞ –ø—Ä–æ–¥–∞–∂.</p>";
    return;
  }

  market.forEach((dog, index) => {
    const div = document.createElement("div");
    div.className = "dog";
    div.innerHTML = `
      üê∂ ${dog.name} ‚Äî ${dog.type.toUpperCase()} ‚Äî Lv.${dog.level} ‚Äî ‚≠ê${dog.stars} <br>
      –ü—Ä–æ–¥–∞–≤–µ—Ü—å: ${dog.seller}<br>
      <button class="btn" onclick="buyDogFromMarket(${index})">–ö—É–ø–∏—Ç–∏ –∑–∞ ${dog.price} BAG</button>
    `;
    container.appendChild(div);
  });
}

function buyDogFromMarket(index) {
  const dog = market[index];
  if (user.bag < dog.price) {
    alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ BAG –¥–ª—è –ø–æ–∫—É–ø–∫–∏.");
    return;
  }

  if (dog.seller === userAddress()) {
    alert("–í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç–∏ —Å–≤–æ–≥–æ –ø—Å–∞.");
    return;
  }

  user.bag -= dog.price;
  user.dog = {
    name: dog.name,
    type: dog.type,
    level: dog.level,
    stars: dog.stars
  };

  market.splice(index, 1);
  saveMarket();
  saveUser();
  updateBagDisplay();
  updateDogInfo();
  updateMarketList();
  alert("‚úÖ –í–∏ –ø—Ä–∏–¥–±–∞–ª–∏ –Ω–æ–≤–æ–≥–æ –ø—Å–∞!");
}
  let user = {
    bag: 7000,
    dog: null,
    upgradedToday: false
  };

  function saveUser() {
    localStorage.setItem("bonkPetUser", JSON.stringify(user));
  }

  function loadUser() {
    const data = localStorage.getItem("bonkPetUser");
    if (data) {
      user = JSON.parse(data);
    }

    // —è–∫—â–æ –Ω–µ–º–∞ —Å–æ–±–∞–∫–∏ ‚Äî –ø—Ä–æ—Å–∏–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏
    if (!user.dog) {
      document.getElementById("createDogForm").style.display = "block";
    }
  }

  function createFirstDog() {
    const name = document.getElementById("dogNameInput").value.trim();
    if (!name) return alert("–í–≤–µ–¥—ñ—Ç—å —ñ–º‚Äô—è –ø—Å–∞!");

    user.dog = {
      name: name,
      type: "common",
      level: 1,
      stars: 10
    };

    saveUser();
    updateDogInfo();
    document.getElementById("createDogForm").style.display = "none";
  }

  function updateBagDisplay() {
    document.getElementById("bag").innerText = user.bag;
  }

  function updateDogInfo() {
    const container = document.getElementById("dogInfo");
    container.innerHTML = "";
    if (!user.dog) {
      container.innerHTML = "<p>–£ –≤–∞—Å –Ω–µ–º–∞—î –ø—Å–∞.</p>";
      return;
    }
    const { name, type, level, stars } = user.dog;
    const types = {
      common: "COMMON",
      unique: "UNIQUE",
      rare: "RARE",
      legendary: "LEGEND"
    };
    container.innerHTML = `üêï ${name} ‚Äî BONK ${types[type]} DOG ‚Äî Lv. ${level} ‚Äî ‚≠ê ${stars} ‚Äî <em>${type}</em>`;
  }

  function getBonus() {
    user.bag += 1000;
    updateBagDisplay();
    document.getElementById("bonusMsg").innerText = "üéâ –í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ 1 000 BAG!";
    saveUser();
  }

  function openBox() {
    const rarities = ["common", "unique", "rare"];
    const rarity = rarities[Math.floor(Math.random() * rarities.length)];
    user.dog = {
      name: user.dog.name,
      type: rarity,
      level: 1,
      stars: 10
    };
    updateDogInfo();
    document.getElementById("boxMsg").innerHTML = `üéâ –í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ <strong>${rarity.toUpperCase()}</strong> –ø—Å–∞!`;
    saveUser();
  }

  function buyDog(type, cost) {
    if (user.bag >= cost) {
      user.bag -= cost;
      user.dog = {
        name: user.dog.name,
        type: type,
        level: 1,
        stars: 10
      };
      updateBagDisplay();
      updateDogInfo();
      document.getElementById("marketMsg").innerText = `–í–∏ –∫—É–ø–∏–ª–∏ ${type} –ø—Å–∞!`;
      saveUser();
    } else {
      document.getElementById("marketMsg").innerText = "–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ BAG –¥–ª—è –ø–æ–∫—É–ø–∫–∏.";
    }
  }

  function upgradeDog() {
    if (!user.dog) {
      document.getElementById("upgradeMsg").innerText = "–£ –≤–∞—Å –Ω–µ–º–∞—î –ø—Å–∞.";
      return;
    }
    if (user.upgradedToday) {
      document.getElementById("upgradeMsg").innerText = "–°—å–æ–≥–æ–¥–Ω—ñ –≤–∂–µ –ø—Ä–æ–∫–∞—á–∞–Ω–æ!";
      return;
    }

    user.dog.level += 1;
    user.dog.stars += 5;
    user.upgradedToday = true;
    document.getElementById("upgradeMsg").innerText = "–ü–µ—Å –ø—Ä–æ–∫–∞—á–∞–Ω–∏–π!";
    updateDogInfo();
    saveUser();
  }

  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
  loadUser();
  updateBagDisplay();
  updateDogInfo();
</script>

</body>
</html>
